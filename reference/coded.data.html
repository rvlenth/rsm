<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Functions for coded data — coded.data • rsm</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functions for coded data — coded.data"><meta name="description" content="These functions facilitate the use of coded data in response-surface analysis."><meta property="og:description" content="These functions facilitate the use of coded data in response-surface analysis."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rsm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.10.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/article-JSS.html">Response-Surface Methods in R, Using rsm</a></li>
    <li><a class="dropdown-item" href="../articles/illus.html">Response-surface illustration</a></li>
    <li><a class="dropdown-item" href="../articles/plots.html">Surface Plots in the rsm Package</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/rvlenth/rsm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Functions for coded data</h1>

      <div class="d-none name"><code>coded.data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions facilitate the use of coded data in response-surface analysis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">coded.data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span>, formulas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>, block <span class="op">=</span> <span class="st">"block"</span><span class="op">)</span></span>
<span><span class="fu">as.coded.data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span>, formulas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>, block <span class="op">=</span> <span class="st">"block"</span><span class="op">)</span></span>
<span><span class="fu">decode.data</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="fu">recode.data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span>, formulas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">val2code</span><span class="op">(</span><span class="va">X</span>, <span class="va">codings</span><span class="op">)</span></span>
<span><span class="fu">code2val</span><span class="op">(</span><span class="va">X</span>, <span class="va">codings</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'coded.data'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, decode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">### --- Methods for managing coded data ---</span></span>
<span><span class="fu">is.coded.data</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'coded.data'</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">...</span><span class="op">]</span></span>
<span></span>
<span><span class="fu">codings</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'coded.data'</span></span>
<span><span class="fu">codings</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span><span class="fu">codings</span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S3 method for class 'coded.data'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co">## Generic method for true variable names (i.e. decoded names)</span></span>
<span><span class="fu">truenames</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'coded.data'</span></span>
<span><span class="fu">truenames</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">## Generic replacement method for truenames</span></span>
<span><span class="fu">truenames</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span><span class="co"># S3 method for class 'coded.data'</span></span>
<span><span class="fu">truenames</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A <code>data.frame</code></p></dd>

  <dt id="arg-formulas">formulas<a class="anchor" aria-label="anchor" href="#arg-formulas"></a></dt>
<dd><p>List of coding formulas; see details</p></dd>

  <dt id="arg-block">block<a class="anchor" aria-label="anchor" href="#arg-block"></a></dt>
<dd><p>Name(s) of blocking variable(s). It is <code>pmatch</code>ed (case insensitively) with names in <code>data</code> to identify blocking factorss</p></dd>

  <dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A vector, matrix, or data.frame to be coded or decoded.</p></dd>

  <dt id="arg-codings">codings<a class="anchor" aria-label="anchor" href="#arg-codings"></a></dt>
<dd><p>A list of formulas; see Details</p></dd>

  <dt id="arg-decode">decode<a class="anchor" aria-label="anchor" href="#arg-decode"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the decoded values are displayed; if <code>FALSE</code>, the codings are displayed.</p></dd>

  <dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>A <code>coded.data</code> object</p></dd>

  <dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>coded.data</code> object</p></dd>

  <dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Replacement value for <code>&lt;-</code> methods</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>In <code>coded.data</code>, <code>as.coded.data</code>, and <code>recode.data</code>, <code>...</code> allows specifying formulas as arguments rather than as a list. In other functions, <code>...</code> is passed to the parent methods.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Typically, coding formulas are of the form <code>x ~ (var - center) / halfwd</code>
  where <code>x</code> and <code>var</code> are variable names, and <code>center</code> and
  <code>halfwd</code> are numbers.
  The left-hand side gives the name of the coded variable, and the right-hand side
  should be a linear expression in the uncoded variable (linearity is <em>not</em> explicitly
  checked, but nonlinear expressions will not decode correctly.) If <code>coded.data</code> is called without formulas, automatic codings are created (along with a warning message). Automatic codings are based on transforming all non-block variables having five or fewer unique values to the interval [-1,1]. If no formulas are provided in <code>as.coded.data</code>, default coding formulas like those for <code><a href="ccd.html">cube</a></code> are created all numeric variables with mean zero – again with a warning message.</p>
<p>An S3 <code>print</code> method is provided for the <code>coded.data</code> class;
  it displays the data.frame in either coded or
  decoded form, along with the coding formulas. Some users may prefer <code>print.data.frame</code>
  or <code>as.data.frame</code> in lieu of <code>print</code> with <samp>decode=FALSE</samp>; they produce the
  same output without displaying the coding formulas.</p>
<p>Use <code>coded.data</code> to convert a <code>data.frame</code> in which the variables
  are on their original scales.  The variables named in the formulas are
  coded and replaced with their coded versions (and also renamed).</p>
<p>In contrast, <code>as.coded.data</code> does not modify any of the data; it assumes the variables
  are already coded, and the coding information is simply added. In addition, if <code>data</code> is
  already a <code>coded.data</code> object from a pre-1.41 version of <span class="pkg">rsm</span>,
  it is converted to
  be compatible with new capabilities such as <code><a href="djoin.html">djoin</a></code> (no <code>formulas</code> argument
  is needed in this case). Any blocking factors should be specified in the <code>blocks</code>
  argument.</p>
<p><code>decode.data</code> converts a dataset of class <code>coded.data</code> and
  returns a <code>data.frame</code> containing the original variables.</p>
<p><code>recode.data</code> is used to convert a <code>coded.data</code> object to new codings.
  Important: this <em>changes</em> the coded values to match the new coding formulas. If you want to keep the coded values the same, but change the levels they represent, use <samp>codings(object) &lt;- \dots</samp> or <code><a href="ccd.html">dupe</a></code>.</p>
<p><code>code2val</code> converts coded values to the original scale using the codings provided,
  and returns an object of the same class as <code>X</code>.
  <code>val2code</code> converts the other direction.  When using these functions, it is
  essential that the names (or column names in the case of matrices) match those of the
  corresponding coded or uncoded variables.</p>
<p><code>codings</code> is a generic function for accessing codings.  It
  returns the list of coding formulas from a <code>coded.data</code> object.  One may use an
  expression like <samp>codings(object) &lt;- list(\dots)</samp> to change the codings (without changing
  the coded values themselves).   See also <code><a href="rsm.html">codings.rsm</a></code>.</p>
<p><code>is.coded.data(x)</code> returns <code>TRUE</code> if <code>x</code> inherits from <code>coded.data</code>, and <code>FALSE otherwise.</code></p>
<p>The extraction function <code>x[...]</code> and the naming functions <code>names&lt;-</code>,
  <code>truenames</code>, and <code>truenames&lt;-</code> are provided to preserve the integrity of
  codings. For example, if <code>x[, 1:3]</code> excludes any coded columns, their coding formulas
  are also excluded. If all coded columns are excluded, the return value is unclassed
  from <code>coded.data</code>. When variable names are changed using <code>names(x) &lt;- ...</code>, the coding
  formulas are updated accordingly. The <code>truenames</code> function returns the names of the
  variables in the decoded dataset. We can change the decoded names using
  <code>truenames(x) &lt;- ...</code>, and the coding formulas are updated. Note that <code>truenames</code>
  and <code>truenames&lt;-</code> work the same as <code>names</code> and <code>names&lt;-</code> for
  unencoded variables in the object.</p>
<p>Another convenient way to copy and change the coding formulas a coded dataset (and optionally re-randomize it) is to use the <code><a href="ccd.html">dupe</a></code> function with a <code>coding</code> argument.</p>
<p>When a design is created in another package, some of the variables may be <code>factor</code>s, in which case they are converted using <code>as.numeric</code> (values of 1, 2, ...). These levels may be regarded as a yet different coding of the variables, and so it may take two steps to get it in the desired form: one to convert the supplied levels to the desired range (often -1 to 1), and the other to replace the coding formulas to correspond to the real values of the variables to be used. See the examples.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>coded.data</code>, <code>as.coded.data</code>, and <code>recode.data</code> return an object of class
  <code>coded.data</code>,  which inherits from <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>. A <code>coded.data</code>
  object is stored in coded form, and its <code>names</code> attribute contains the coded names,
  where they apply. Thus, when fitting models in <code><a href="rsm.html">rsm</a></code> or <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></code> with
  coded data as the <code>data</code> argument, the model formula should be given in terms of the
  coded variables.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Starting with <span class="pkg">rsm</span> version 2.00, the <code>coded.data</code> class involves additional attributes to serve broader needs in design-generation. Because of this, old <code>coded.data</code> objects may need to be updated using <code>as.coded.data</code> if they are to be used with the newer functions such as <code><a href="djoin.html">djoin</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>, <code><a href="djoin.html">djoin</a></code>, <code><a href="ccd.html">dupe</a></code>, <code><a href="rsm.html">rsm</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Lenth RV (2009). “Response-Surface Methods in R, Using rsm”,
  <em>Journal of Statistical Software</em>, 32(7), 1–17.
  <a href="https://doi.org/10.18637/jss.v032.i07" class="external-link">doi:10.18637/jss.v032.i07</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Russell V. Lenth</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rvlenth/rsm">rsm</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Existing dataset with variables on actual scale</span></span></span>
<span class="r-in"><span><span class="va">CR</span> <span class="op">&lt;-</span> <span class="fu">coded.data</span> <span class="op">(</span><span class="va">ChemReact</span>, <span class="va">x1</span> <span class="op">~</span> <span class="op">(</span><span class="va">Time</span> <span class="op">-</span> <span class="fl">85</span><span class="op">)</span><span class="op">/</span><span class="fl">5</span>, <span class="va">x2</span> <span class="op">~</span> <span class="op">(</span><span class="va">Temp</span> <span class="op">-</span> <span class="fl">175</span><span class="op">)</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">CR</span>                            <span class="co"># same as print(CR, decode = TRUE)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Time   Temp Block Yield</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  80.00 170.00    B1  80.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  80.00 180.00    B1  81.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  90.00 170.00    B1  82.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  90.00 180.00    B1  83.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  85.00 175.00    B1  83.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  85.00 175.00    B1  84.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  85.00 175.00    B1  84.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  85.00 175.00    B2  79.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  85.00 175.00    B2  79.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 85.00 175.00    B2  79.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 92.07 175.00    B2  78.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 77.93 175.00    B2  75.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 85.00 182.07    B2  78.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 85.00 167.93    B2  77.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data are stored in coded form using these coding formulas ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1 ~ (Time - 85)/5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2 ~ (Temp - 175)/5</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">CR</span>, decode <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>     <span class="co"># similar to as.data.frame(CR)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x1     x2 Block Yield</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  -1.000 -1.000    B1  80.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  -1.000  1.000    B1  81.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1.000 -1.000    B1  82.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1.000  1.000    B1  83.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   0.000  0.000    B1  83.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   0.000  0.000    B1  84.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   0.000  0.000    B1  84.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   0.000  0.000    B2  79.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   0.000  0.000    B2  79.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  0.000  0.000    B2  79.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  1.414  0.000    B2  78.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 -1.414  0.000    B2  75.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  0.000  1.414    B2  78.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  0.000 -1.414    B2  77.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable codings ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1 ~ (Time - 85)/5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x2 ~ (Temp - 175)/5</span>
<span class="r-in"><span><span class="fu">code2val</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x1<span class="op">=</span><span class="fl">.5</span>, x2<span class="op">=</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>, codings <span class="op">=</span> <span class="fu">codings</span><span class="op">(</span><span class="va">CR</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Time  Temp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  87.5 170.0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Existing dataset, already in coded form</span></span></span>
<span class="r-in"><span><span class="va">CO</span> <span class="op">&lt;-</span> <span class="fu">as.coded.data</span><span class="op">(</span><span class="va">codata</span>, <span class="va">x1</span> <span class="op">~</span> <span class="op">(</span><span class="va">Ethanol</span> <span class="op">-</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">/</span><span class="fl">0.1</span>, <span class="va">x2</span> <span class="op">~</span> <span class="va">A.F.ratio</span> <span class="op">-</span> <span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">truenames</span><span class="op">(</span><span class="va">CO</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Ethanol"   "A.F.ratio" "y"        </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">CO</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "x1" "x2" "y" </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># revert x2 to an uncoded variable</span></span></span>
<span class="r-in"><span><span class="fu">codings</span><span class="op">(</span><span class="va">CO</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="fu">truenames</span><span class="op">(</span><span class="va">CO</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Ethanol" "x2"      "y"      </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Import a design that is coded in a different way</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">conf.design</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># ----- This example requires conf.design -----</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># First, generate a 3^3 in blocks and import it via coded.data</span></span></span>
<span class="r-in"><span>    <span class="va">des3</span> <span class="op">&lt;-</span> <span class="fu">coded.data</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/conf.design/man/conf.design.html" class="external-link">conf.design</a></span><span class="op">(</span>p<span class="op">=</span><span class="fl">3</span>, G<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co"># NOTE: This returns a warning message but does the right thing --</span></span></span>
<span class="r-in"><span>    <span class="co"># It generates these names and coding formulas automatically:</span></span></span>
<span class="r-in"><span>    <span class="co">#   x1 ~ (T1 - 2)/1</span></span></span>
<span class="r-in"><span>    <span class="co">#   x2 ~ (T2 - 2)/1</span></span></span>
<span class="r-in"><span>    <span class="co">#   x3 ~ (T3 - 2)/1</span></span></span>
<span class="r-in"><span><span class="co"># Now randomize and change the codings and variable names for the real situation:</span></span></span>
<span class="r-in"><span>    <span class="va">mydes</span> <span class="op">&lt;-</span> <span class="fu"><a href="ccd.html">dupe</a></span><span class="op">(</span><span class="va">des3</span>, coding <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x1</span> <span class="op">~</span> <span class="op">(</span><span class="va">Dose</span> <span class="op">-</span> <span class="fl">20</span><span class="op">)</span><span class="op">/</span><span class="fl">5</span>,  <span class="va">x2</span> <span class="op">~</span> <span class="op">(</span><span class="va">Conc</span> <span class="op">-</span> <span class="fl">40</span><span class="op">)</span><span class="op">/</span><span class="fl">10</span>,  </span></span>
<span class="r-in"><span>                                <span class="va">x3</span> <span class="op">~</span> <span class="op">(</span><span class="va">Time</span> <span class="op">-</span> <span class="fl">60</span><span class="op">)</span><span class="op">/</span><span class="fl">15</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                </span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># ----- end of example requiring package conf.design -----</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: conf.design</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Automatic codings created -- may not be what you want</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Russell Lenth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

